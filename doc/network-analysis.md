# Perform social network analysis

Either the graph from the database or a given graph is analysed regarding the centrality of each node.

**URL** : `/api/network-analysis`

**Method** : `POST`

**Auth required** : No

## Success Response

**Code** : `200 OK`

**Required Body**
```
{
  "centralities": Subset of ["closeness", "betweenness", "eigenvector", "harmonic", "degree", "weighteddegree"],
  "centralization": boolean,
  "data": Graph as specified in /api/graph
  "option": Option to generate graph as specified in /api/graph
}
```

`centralization` is optional and by default `false`. `data` is optional.

* centralities - List of centralities that are evaluated for the graph
* centralization - If true the centralization is calculated for all given centralities
* data - The graph that is evaluated. If not set the graph from the database is used. For information about the syntax see the documentation for [/api/graph](graph.md)
* option - If no graph is given the graph generated by [/api/graph](graph.md) is used. The possible options for generating the graph are described [here](graph.md)


Supported centralities:
* closeness - [Closeness centrality](https://en.wikipedia.org/wiki/Closeness_centrality)
* betweenness - [Betweenness centrality](https://en.wikipedia.org/wiki/Betweenness_centrality)
* eigenvector - [Eigenvector centrality](https://en.wikipedia.org/wiki/Eigenvector_centrality)
* harmonic - [Harmonic closeness centrality](https://en.wikipedia.org/wiki/Centrality#Harmonic_centrality)
* degree - [Degree centrality](https://en.wikipedia.org/wiki/Centrality#Degree_centrality)
* weighteddegree - [Weighted degree centrality](https://en.wikipedia.org/wiki/Centrality#Degree_centrality)


**Data example**
```json
{
  "centralities":"closeness",
  "centralization":true,
  "data": {
    "a1": {"a2": 1, "b1": 0.25, "c1": 0.25},
    "b2": {"a2": 0.25, "c2": 0.5, "d2": 0.75, "e2": 0.25},
    "a2": {"b2": 0.25, "a1": 1, "d2": 0.25, "e2": 0.25, "c2": 0.25},
    "d1": {"c1": 0.25},
    "e2": {"a2": 0.25, "b2": 0.25, "c2": 0.75, "d2": 0.25},
    "c1": {"d1": 0.25, "a1": 0.25, "b1": 0.75},
    "d2": {"a2": 0.25, "c2": 0.25, "b2": 0.75, "e2": 0.25},
    "b1": {"a1": 0.25, "c1": 0.75},
    "c2": {"a2": 0.25, "b2": 0.5, "d2": 0.25, "e2": 0.75}
  }
}
```


**Content examples**

The result is a map with an entry for each centrality. The centralization values are separated and can be accessed via the key `centralization`.

```json
{
  "closeness": {
    "a1":0.8648648648648649,
    "b2":0.6857142857142856,
    "a2":0.8888888888888888,
    "d1":0.4085106382978724,
    "e2":0.6575342465753425,
    "c1":0.6357615894039734,
    "d2":0.6575342465753425,
    "b1":0.6193548387096774,
    "c2":0.6857142857142856
  },
  "centralization": {
    "closeness":0.5078898523005713
  }
}
```

## Notes

This route was much fun to write :)
